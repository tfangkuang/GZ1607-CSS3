<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style>
		*{
			margin:0 auto;
		}
			canvas{
				/*border:1px solid black;*/
				
				display: block;
			}
		</style>
		<script>
			document.addEventListener("DOMContentLoaded",function(){
				var canvas=document.querySelector("canvas");
				var ctx=canvas.getContext("2d");
				canvas.width=canvas.height=600;
				var mw=canvas.width/2;
				var mh=canvas.height/2;
				
				draw();
				function draw(){
					ctx.save();
					
					ctx.clearRect(0,0,canvas.width,canvas.height);
					
					ctx.translate(mw,mh);
					
					
				ctx.save();	
				ctx.beginPath();	
				ctx.arc(0,0,100,0,2*Math.PI);				
				ctx.lineWidth =4;
				ctx.stroke();
				ctx.restore();
				
				ctx.save();
				ctx.beginPath();				
				ctx.arc(0,0,90,0,2*Math.PI);	
				ctx.lineWidth =1;
				ctx.stroke();
				ctx.restore();
				
				
				ctx.save();
				ctx.beginPath();
				ctx.moveTo(0,-90);
				ctx.lineTo(0,-80);
				for(var i=0;i<4;i++){
					ctx.rotate(Math.PI/2);
					ctx.moveTo(0,-90);
					ctx.lineTo(0,-80);					
				}				
				ctx.lineWidth =3;
				ctx.stroke();
				ctx.restore();
				
				
				ctx.save();
				ctx.beginPath();
				ctx.moveTo(0,-90);
				ctx.lineTo(0,-85);
				for(var i=0;i<12;i++){
					ctx.rotate(Math.PI/6);
					ctx.moveTo(0,-90);
					ctx.lineTo(0,-85);					
				}				
				ctx.lineWidth =2;
				ctx.stroke();
				ctx.restore();
				
				
				ctx.save();
				ctx.beginPath();
				ctx.moveTo(0,-90);
				ctx.lineTo(0,-85);
				for(var i=0;i<60;i++){
					ctx.rotate(6*Math.PI/180);
					ctx.moveTo(0,-90);
					ctx.lineTo(0,-85);					
				}				
				ctx.lineWidth =1;
				ctx.stroke();
				ctx.restore();
				
				
				var date = new Date();
				var hour = date.getHours();
				var min = date.getMinutes();
				var sec = date.getSeconds();
				var day = date.getDay();
				var tody = date.getDate();
				
				ctx.save();
				ctx.rotate((hour+min/60+sec/3600)*360/12*Math.PI/180);
				ctx.beginPath();
				ctx.moveTo(0,0);
				ctx.lineTo(0,-40);
				ctx.lineWidth = 5;
				ctx.stroke();
				ctx.restore();
			

				ctx.save();
				ctx.rotate((min+sec/60)*360/60*Math.PI/180);
				ctx.beginPath();
				ctx.moveTo(0,0);
				ctx.lineTo(0,-50);
				ctx.lineWidth = 3;
				ctx.stroke();
				ctx.restore();
			

				ctx.save();
				ctx.rotate(sec*360/60*Math.PI/180);
				ctx.beginPath();
				ctx.moveTo(0,0);
				ctx.lineTo(0,-70);
				ctx.lineWidth = 1;
				ctx.stroke();
				ctx.restore();
				
				ctx.restore();
				
				}
					
				
				
				setInterval(function(){
				draw();
			},1000);
			

				var btn=document.querySelector(".btn");
				var res=document.querySelector(".res");
				
				btn.onclick=function(){
					var data=canvas.toDataURL("images/png",0.8);
					 var img=new Image();
					  img.src=data;
				
				
				img.onload=function(){
					res.appendChild(img);
				}
					  
				}
				
				draw();
			})
		</script>
	</head>
	<body>
		<canvas>
			
		</canvas>
		<button  class="btn" >保存</button>
		<div class="res" ></div>
	</body>
</html>
