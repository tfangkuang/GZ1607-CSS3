<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>仿QQ浏览器小说内容设置</title>
		<style type="text/css">
			header{
				width: 100%;
				height: 55px;
				background-color: #FFFFFF;
				border-bottom: 1px solid #cccccc;
			}
			header *,footer *{
				font-size: 36px;
				font-weight: bold;
				line-height: 55px;
			}
			header .ileft{
				float: left;
				width: 33.3333333%;
			}
			header .icenter{
				float: left;
				width: 33.3333333%;
				text-align: center;
			}
			header .iright{
				float: left;
				width: 33.3333333%;
				text-align: right;
			}
			.content{
				padding: 10px 8px;
				text-indent: 1cm;
				/*font-size: 32px;*/
			}
			
			footer{
				height: auto;
				width: 100%;
				position: fixed;
				left:0;
				bottom: 0;
				padding: 20px;
				border-top:1px solid #cccccc ;
			}
			footer input[type='button'] { width: 45%;}
			
			.fontLineHeight span{
				width: 33.333%;
				float: left;
				text-align: center;
			}
			
			
			
		</style>
		
	</head>
	<body>
		<header >
			<div class="ileft">
				返回
			</div>
			<div class="icenter">
				我的小说
			</div>
			<div class="iright">
				设置
			</div>
		</header>
		<div class="content">
			HTML5 提供了两种在客户端存储数据的新方法：
localStorage - 没有时间限制的数据存储
sessionStorage - 针对一个 session 的数据存储
之前，这些都是由 cookie 完成的。但是 cookie 不适合大量数据的存储，因为它们由每个对服务器的请求来传递，这使得 cookie 速度很慢而且效率也不高。
在 HTML5 中，数据不是由每个服务器请求传递的，而是只有在请求时使用数据。它使在不影响网站性能的情况下存储大量数据成为可能。
对于不同的网站，数据存储于不同的区域，并且一个网站只能访问其自身的数据。
<br>
	localStorage 方法
localStorage 方法存储的数据没有时间限制。第二天、第二周或下一年之后，数据依然可用。
<br>sessionStorage 方法
sessionStorage 方法针对一个 session 进行数据存储。当用户关闭浏览器窗口后，数据会被删除。
		</div>
		<footer>
			<div class="fontSize">
				<input type="button" name="btnSmall" id="btnSmall" value="A-" />
				<input type="button" name="btnBig" id="btnBig" value="A+"/>
			</div>
			
		</footer>
	</body>
	<script>
	document.addEventListener('DOMContentLoaded',function(){
		var eContent = document.querySelector('.content');
		var btnSmall = document.querySelector('#btnSmall');
		var btnBig = document.querySelector('#btnBig');

		if(localStorage.getItem('fontSize')){
			var fontSize = parseInt(localStorage.getItem('fontSize'));
			eContent.style.fontSize = fontSize+"px";
		}else{
			var currentFontSize = parseInt(getComputedStyle(eContent,'font-size'));
			localStorage.setItem('fontSize', currentFontSize);
		}
		
		btnBig.onclick = function(){
			changeSize(2);
		}
		btnSmall.onclick = function(){
			changeSize(-2);
		}
		
		
		function changeSize(num){
			var fontSize = parseInt(localStorage.getItem('fontSize')) || 16;
			fontSize += num;
			if(fontSize < 12){
				alert("12号字体已经是最小的了");
				fontSize = 12;
			}
			eContent.style.fontSize = fontSize + 'px';
			localStorage.setItem('fontSize', fontSize);
		}
	});
	</script>
</html>
